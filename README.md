# Johnny Whisper

AI-powered speech recognition directly in your browser!

This application allows you to transcribe audio from your microphone, local files, and YouTube videos using OpenAI's Whisper model running entirely in your browser.

## Features

- **Microphone Recording**: Real-time audio transcription
- **File Upload**: Transcribe local audio files
- **YouTube Integration**: Extract and transcribe audio from YouTube videos
- **Browser-based**: No data leaves your device for privacy
- **Fast Processing**: Powered by Transformers.js

## Docker Installation (Recommended)

Run the entire app (frontend + backend + FFmpeg) with Docker. No local Node or FFmpeg installs required.

### Prerequisites
- Install Docker Desktop: https://www.docker.com/products/docker-desktop/
- Ensure Docker is running

### Build and Run
```bash
# From the project root
docker compose up -d --build
```

This will:
- Build the frontend with Vite
- Install backend dependencies
- Install FFmpeg in the image
- Start the server on http://localhost:3001

Open the app:
- http://localhost:3001

### Stop and Clean Up
```bash
docker compose down
```

### View Logs
```bash
docker compose logs -f
```

### Update to Latest Code
```bash
git pull
docker compose up -d --build
```

### Data and Volumes
- Extracted files are stored in the container at `/app/server/uploads`.
- A volume is mapped in `docker-compose.yml` so files appear on your host at `server/uploads/`.

### Environment
- Default environment is `NODE_ENV=production` (set in `docker-compose.yml`).
- The container exposes port `3001` and serves the built frontend and API under `/api/*`.

> Legacy OS-specific installation steps have been deprecated in favor of Docker.

## Requirements

- **Docker Desktop**: Latest stable version
- **Modern Browser**: Chrome, Firefox, Safari, or Edge (latest versions)
- **RAM**: At least 4GB recommended for optimal performance

## Running the Application

### Start
```bash
docker compose up -d --build
```
Then open `http://localhost:3001` in your browser.

### Stop
```bash
docker compose down
```

### Rebuild after code changes
```bash
docker compose up -d --build
```

### View server logs
```bash
docker compose logs -f
```

## Usage Guide

### Microphone Transcription
1. Click the "Record" button
2. Allow microphone permissions when prompted
3. Speak clearly into your microphone
4. Click "Stop" to end recording and start transcription

### File Upload Transcription
1. Click "Upload File"
2. Select an audio file (MP3, WAV, M4A, etc.)
3. Wait for the file to process and transcribe

### YouTube Video Transcription
1. Paste a YouTube URL into the input field
2. Click "Transcribe YouTube"
3. The system will extract audio and transcribe it

## Troubleshooting

### Common Issues

#### "FFmpeg not found" Error
This image installs FFmpeg automatically. If you see this error:
- Ensure you rebuilt the image: `docker compose up -d --build`
- Check logs for startup errors: `docker compose logs -f`

#### Port Already in Use
If you see "Port 3001 already in use":
```bash
# Find and kill the process using the port
# Windows:
netstat -ano | findstr :3001
taskkill /PID <PID_NUMBER> /F

# macOS:
lsof -ti:3001 | xargs kill -9
```

#### Memory Issues
If the browser becomes unresponsive:
- Close other browser tabs
- Ensure you have at least 4GB RAM available
- Try using a smaller audio file

#### YouTube Download Fails
- Check your internet connection
- Verify the YouTube URL is correct and the video is publicly accessible
- Some videos may be region-restricted or have download protection

### Performance Tips

1. **Use Chrome or Edge** for best performance with WebAssembly
2. **Close unnecessary browser tabs** to free up memory
3. **Use shorter audio clips** (under 10 minutes) for faster processing
4. **Ensure stable internet** for YouTube transcription

## Development

### Available Scripts

**Frontend (Root Directory):**
- `npm run dev` - Start development server
- `npm run build` - Build for production
- `npm run preview` - Preview production build
- `npm run lint` - Run ESLint
- `npm run format` - Format code with Prettier

**Backend (Server Directory):**
- `npm start` - Start production server
- `npm run dev` - Start development server with auto-reload

### Project Structure
```
johnnywhisper/
├── src/                 # Frontend React application
├── server/              # Backend Express server
│   └── server.js        # Main server file
├── public/              # Static assets
├── dist/                # Built frontend (generated by Docker build)
├── Dockerfile           # Multi-stage build: frontend + server + FFmpeg
└── docker-compose.yml   # Runs the app at http://localhost:3001
```

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

## Support

If you encounter issues:
1. Check the troubleshooting section above
2. Ensure Docker Desktop is running
3. Verify the container is healthy with `docker compose ps` and view logs with `docker compose logs -f`
4. Check browser console for error messages

For additional help, please refer to the project documentation or create an issue in the project repository.
